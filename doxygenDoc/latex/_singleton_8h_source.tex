\hypertarget{_singleton_8h_source}{}\doxysection{Singleton.\+h}
\label{_singleton_8h_source}\index{Src/Utils/Singleton.h@{Src/Utils/Singleton.h}}
\mbox{\hyperlink{_singleton_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*Clase\ implementada\ en\ el\ h\ porque\ al\ ser\ template\ y\ estar\ en\ el\ primer}}
\DoxyCodeLine{00002\ \textcolor{comment}{proyecto\ que\ se\ compila,\ al\ compilarse\ nadie\ la\ llama\ y\ no\ genera\ ninguna}}
\DoxyCodeLine{00003\ \textcolor{comment}{instancia.\ Deben\ ser\ los\ otros\ proyectos\ los\ que\ generen\ las\ distintas}}
\DoxyCodeLine{00004\ \textcolor{comment}{instancias\ de\ singleton.*/}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#ifndef\ \_\_UTILS\_SINGLETON}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#define\ \_\_UTILS\_SINGLETON}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#ifdef\ \_DEBUG}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ <typeinfo>}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceme}{me}}\ \{}
\DoxyCodeLine{00017\ \ \ \ \ }
\DoxyCodeLine{00018\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{00023\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classme_1_1_singleton}{Singleton}}\ \{}
\DoxyCodeLine{00024\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ \textcolor{comment}{//The\ only\ instance\ of\ class\ T}}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ std::unique\_ptr<T>\ mInstance;}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00028\ \ \ \ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classme_1_1_singleton_af5127d54d6c6904173541b404903b599}{Singleton}}()\ \{\};}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classme_1_1_singleton}{Singleton<T>}}\&\ \mbox{\hyperlink{classme_1_1_singleton_a6745ba60837f9347a75c0cfc27fadfb0}{operator=}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classme_1_1_singleton}{Singleton<T>}}\&\ o)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classme_1_1_singleton_a70f85c079fd020a8655eed54e7189845}{Singleton}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classme_1_1_singleton}{Singleton<T>}}\&\ o)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classme_1_1_singleton_a576834dfbf95c3b929511d2a588866d1}{\string~Singleton}}()\ \{\}}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ ...Targs>}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ T*\ \mbox{\hyperlink{classme_1_1_singleton_a919633966a5db8336cffa09f28fc2623}{init}}(Targs\ \&\&...args)\ \{}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (mInstance.get()\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mInstance.reset(\textcolor{keyword}{new}\ T(std::forward<Targs>(args)...));}
\DoxyCodeLine{00044\ \textcolor{preprocessor}{\#ifdef\ \_DEBUG}}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Singleton:\ Instance\ of\ "{}}\ <<\ \textcolor{keyword}{typeid}(T).name()\ <<\ \textcolor{stringliteral}{"{}\ created.\(\backslash\)n"{}};}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Singleton\ error:\ There\ already\ is\ an\ instance\ of\ class\ "{}}\ <<\ \textcolor{keyword}{typeid}(T).name()\ <<\ \textcolor{stringliteral}{"{}.\(\backslash\)n"{}};}
\DoxyCodeLine{00049\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ mInstance.get();}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ T*\ \mbox{\hyperlink{classme_1_1_singleton_a8810aab25f6fdc043bfac52761a9a260}{instance}}()\ \{}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (mInstance.get()\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classme_1_1_singleton_a919633966a5db8336cffa09f28fc2623}{init}}();}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ mInstance.get();}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00064\ \ \ \ \ \};}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{00067\ \ \ \ \ std::unique\_ptr<T>\ Singleton<T>::mInstance;}
\DoxyCodeLine{00068\ \}}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
