\hypertarget{_sound_manager_8h_source}{}\doxysection{Sound\+Manager.\+h}
\label{_sound_manager_8h_source}\index{Src/Audio/SoundManager.h@{Src/Audio/SoundManager.h}}
\mbox{\hyperlink{_sound_manager_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#ifndef\ \_FMOD\_SOUND\_MANAGER}}
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#define\ \_FMOD\_SOUND\_MANAGER}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <unordered\_map>}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <algorithm>}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <cctype>}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_motor_engine_a_p_i_8h}{MotorEngine/MotorEngineAPI.h}}"{}}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_singleton_8h}{Utils/Singleton.h}}"{}}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_vector3_8h}{Utils/Vector3.h}}"{}}}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespace_f_m_o_d}{FMOD}}\ \{}
\DoxyCodeLine{00013\ \ \ \ \ \textcolor{keyword}{class\ }Sound;}
\DoxyCodeLine{00014\ \ \ \ \ \textcolor{keyword}{class\ }ChannelGroup;}
\DoxyCodeLine{00015\ \ \ \ \ \textcolor{keyword}{class\ }Channel;}
\DoxyCodeLine{00016\ \ \ \ \ \textcolor{keyword}{class\ }System;}
\DoxyCodeLine{00017\ \}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{keyword}{enum}\ FMOD\_RESULT;}
\DoxyCodeLine{00020\ \textcolor{keyword}{class\ }FMOD\_VECTOR;}
\DoxyCodeLine{00021\ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{_sound_manager_8h_ab817628375dd23c707108f7d9fd302ca}{FMOD\_MODE}};}
\DoxyCodeLine{00022\ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{_sound_manager_8h_ae3f91b6700d531ec62e89650ab25b9e6}{CHANNEL\_NUMBER}};}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceme}{me}}\ \{}
\DoxyCodeLine{00025\ \ \ \ \ \textcolor{comment}{//Maximum\ number\ of\ channels\ allowed\ to\ exist\ in\ this\ particular\ system\ setting.}}
\DoxyCodeLine{00026\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{namespaceme_a15c4fa676c025760938ddb5ba349c4e1}{MAX\_CHANNELS}}\ =\ 36;}
\DoxyCodeLine{00027\ \ \ \ \ \textcolor{comment}{//Scaling\ factor\ for\ how\ much\ the\ pitch\ varies\ due\ to\ doppler\ shifting\ in\ 3D\ sound.}}
\DoxyCodeLine{00028\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{namespaceme_a481a0c381d7e955f1654c93f4a046839}{DOPPLER\_SCALE}}\ =\ 1;\ }
\DoxyCodeLine{00029\ \ \ \ \ \textcolor{comment}{//Relative\ distance\ factor,\ compared\ to\ 1.0\ meters.\ How\ many\ units\ per\ meter\ my\ engine\ have.}}
\DoxyCodeLine{00030\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{namespaceme_a439b64171f81c9557e8dab9df2adc081}{DISTANCE\_FACTOR}}\ =\ 1;}
\DoxyCodeLine{00031\ \ \ \ \ \textcolor{comment}{//Global\ attenuation\ rolloff\ factor.\ }}
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{namespaceme_a266976037dee6b06b15e6604621b0adf}{ROLLOFF\_SCALE}}\ =\ 1;}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00039\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{_motor_engine_a_p_i_8h_ae7d210fc6a9598f82960577024307219}{\_\_MOTORENGINE\_API}}\ \mbox{\hyperlink{classme_1_1_sound_manager}{SoundManager}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classme_1_1_singleton}{Singleton}}<SoundManager>}
\DoxyCodeLine{00040\ \ \ \ \ \{}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \textcolor{keyword}{friend}\ \mbox{\hyperlink{classme_1_1_singleton}{Singleton<SoundManager>}};}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classme_1_1_sound_manager}{SoundManager}}();}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \textcolor{comment}{//Stores\ audio\ handles\ linked\ to\ their\ name.}}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ std::unordered\_map<std::string,\ FMOD::Sound*>\ mSoundsMap;}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \textcolor{comment}{//Stores\ audio\ handles\ linked\ to\ the\ last\ channel\ they\ where\ played\ in.}}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ std::unordered\_map<FMOD::Sound*,CHANNEL\_NUMBER>\ mLastPlayedMap;}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \textcolor{comment}{//Stores\ channel\ group\ names\ linked\ to\ their\ handle.}}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ std::unordered\_map<std::string,\ FMOD::ChannelGroup*>\ mChannelGroupMaps;}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \textcolor{comment}{//Stores\ every\ audio\ channel.}}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ std::vector<FMOD::Channel*>\ mChannelsVector;}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \textcolor{comment}{//Basic\ channel\ groups\ provided\ by\ the\ SoundManager.}}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ FMOD::ChannelGroup*\ mEffects,\ *\ mMusic,\ *mMaster;}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ std::vector<bool>\ mListeners;}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \textcolor{comment}{//The\ sound\ system\ over\ which\ every\ bit\ of\ audio\ gets\ created.}}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ FMOD::System*\ mSoundSystem\ =\ NULL;}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ checkFMODResult(FMOD\_RESULT\ FMODResult);}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ FMOD::Sound*\ getSound(std::string\ soundName);}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ FMOD::Channel*\ getChannel(std::string\ soundName);}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ FMOD::ChannelGroup*\ getGroupChannel(std::string\ channelGroupName);}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ changeChannelVolume(std::string\ channelGroupName,\ \textcolor{keywordtype}{float}\ volume);}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ nameToLower(std::string\ \&name);}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ FMOD\_RESULT\ mResult;}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ systemRefresh();}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ create3DSound(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ soundPath,\ std::string\ soundName,\ \textcolor{keywordtype}{float}\ minDistance,\ \textcolor{keywordtype}{float}\ maxDistance);}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ createNormalSound(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ soundPath,\ std::string\ soundName);}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ setSpeed(std::string\ soundName,\ \textcolor{keywordtype}{float}\ newSpeed);}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ setMode(std::string\ soundName,\ \mbox{\hyperlink{_sound_manager_8h_ab817628375dd23c707108f7d9fd302ca}{FMOD\_MODE}}\ newMode);}
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ createChannelGroup(std::string\ groupName);}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ setChannelVolume(std::string\ groupName,\ \textcolor{keywordtype}{float}\ newVolume);}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ setVolume(std::string\ soundName,\ \textcolor{keywordtype}{float}\ newVolume);}
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ getVolume(std::string\ soundName);}
\DoxyCodeLine{00163\ }
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ pauseSound(std::string\ soundName,\ \textcolor{keywordtype}{bool}\ pause);}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ playSound(std::string\ soundName,\ \textcolor{keywordtype}{bool}\ isLoop,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ channelGroup,\ FMOD\_VECTOR*\ channelPos,\ FMOD\_VECTOR*\ channelVel,\ \textcolor{keywordtype}{int}\ timesLooped);}
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ deleteSound(std::string\ soundName);}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ updateListenersPosition(\textcolor{keywordtype}{int}\ index,\ \mbox{\hyperlink{classme_1_1_vector3}{Vector3}}\ listenerPos,\ }
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classme_1_1_vector3}{Vector3}}\ listenerFW,\ \mbox{\hyperlink{classme_1_1_vector3}{Vector3}}\ listenerUP,\ \mbox{\hyperlink{classme_1_1_vector3}{Vector3}}\ listenerVel\ =\ \{\ 0,0,0\ \});}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ removeListener(\textcolor{keywordtype}{int}\ index);}
\DoxyCodeLine{00205\ }
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ setSoundPosition(std::string\ soundName,\ \mbox{\hyperlink{classme_1_1_vector3}{Vector3}}\ position);}
\DoxyCodeLine{00213\ }
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classme_1_1_sound_manager_ac6f3c6ec6995394ede2e7217ec7fe160}{getNextUsefulListenerIndex}}()\ \{}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ mListeners.size();\ i++)\ \{}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!mListeners[i])}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ i;}
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00225\ }
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00227\ \ \ \ \ \};}
\DoxyCodeLine{00228\ }
\DoxyCodeLine{00233\ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classme_1_1_sound_manager}{SoundManager}}\&\ \mbox{\hyperlink{namespaceme_a625a6e78ea8ccf4bb78d65e645513dd1}{soundManager}}()\ \{}
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\mbox{\hyperlink{classme_1_1_singleton_a8810aab25f6fdc043bfac52761a9a260}{SoundManager::instance}}();}
\DoxyCodeLine{00235\ \ \ \ \ \}}
\DoxyCodeLine{00236\ \}}
\DoxyCodeLine{00237\ }
\DoxyCodeLine{00238\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ !\_FMOD\_SOUND\_MANAGER}}
\DoxyCodeLine{00239\ }

\end{DoxyCode}
